function require(p){var path=require.resolve(p),mod=require.modules[path];if(!mod)throw new Error('failed to require "'+p+'"');if(!mod.exports){mod.exports={};mod.call(mod.exports,mod,mod.exports,require.relative(path))}return mod.exports}require.modules={};require.resolve=function(path){var orig=path,reg=path+".js",index=path+"/index.js";return require.modules[reg]&&reg||require.modules[index]&&index||orig};require.register=function(path,fn){require.modules[path]=fn};require.relative=function(parent){return function(p){if("."!=p.substr(0,1))return require(p);var path=parent.split("/"),segs=p.split("/");path.pop();for(var i=0;i<segs.length;i++){var seg=segs[i];if(".."==seg)path.pop();else if("."!=seg)path.push(seg)}return require(path.join("/"))}};require.register("ejs.js",function(module,exports,require){var utils=require("./utils");exports.version="0.5.0";var filters=exports.filters=require("./filters");var cache={};exports.clearCache=function(){cache={}};function filtered(js){return js.substr(1).split("|").reduce(function(js,filter){var parts=filter.split(":"),name=parts.shift(),args=parts.shift()||"";if(args)args=", "+args;return"filters."+name+"("+js+args+")"})}function rethrow(err,str,filename,lineno){var lines=str.split("\n"),start=Math.max(lineno-3,0),end=Math.min(lines.length,lineno+3);var context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?" >> ":"    ")+curr+"| "+line}).join("\n");err.path=filename;err.message=(filename||"ejs")+":"+lineno+"\n"+context+"\n\n"+err.message;throw err}var parse=exports.parse=function(str,options){var options=options||{},open=options.open||exports.open||"<%",close=options.close||exports.close||"%>";var buf=["var buf = [];","\nwith (locals) {","\n  buf.push('"];var lineno=1;for(var i=0,len=str.length;i<len;++i){if(str.slice(i,open.length+i)==open){i+=open.length;var prefix,postfix,line="__stack.lineno="+lineno;switch(str.substr(i,1)){case"=":prefix="', escape(("+line+", ";postfix=")), '";++i;break;case"-":prefix="', ("+line+", ";postfix="), '";++i;break;default:prefix="');"+line+";";postfix="; buf.push('"}var end=str.indexOf(close,i),js=str.substring(i,end),start=i,n=0;while(~(n=js.indexOf("\n",n)))n++,lineno++;if(js.substr(0,1)==":")js=filtered(js);buf.push(prefix,js,postfix);i+=end-start+close.length-1}else if(str.substr(i,1)=="\\"){buf.push("\\\\")}else if(str.substr(i,1)=="'"){buf.push("\\'")}else if(str.substr(i,1)=="\r"){buf.push(" ")}else if(str.substr(i,1)=="\n"){buf.push("\\n");lineno++}else{buf.push(str.substr(i,1))}}buf.push("');\n}\nreturn buf.join('');");return buf.join("")};var compile=exports.compile=function(str,options){options=options||{};var input=JSON.stringify(str),filename=options.filename?JSON.stringify(options.filename):"undefined";str=["var __stack = { lineno: 1, input: "+input+", filename: "+filename+" };",rethrow.toString(),"try {",exports.parse(str,options),"} catch (err) {","  rethrow(err, __stack.input, __stack.filename, __stack.lineno);","}"].join("\n");if(options.debug)console.log(str);var fn=new Function("locals, filters, escape",str);return function(locals){return fn.call(this,locals,filters,utils.escape)}};exports.render=function(str,options){var fn,options=options||{};if(options.cache){if(options.filename){fn=cache[options.filename]||(cache[options.filename]=compile(str,options))}else{throw new Error('"cache" option requires "filename".')}}else{fn=compile(str,options)}options["__proto__"]=options.locals;return fn.call(options.scope,options)};exports.renderFile=function(path,options,fn){var key=path+":string";if("function"==typeof options){fn=options,options={}}options.filename=path;try{var str=options.cache?exports.cache[key]||(exports.cache[key]=fs.readFileSync(path,"utf8")):fs.readFileSync(path,"utf8");fn(null,exports.render(str,options))}catch(err){fn(err)}};exports.ru=exports.renderFile;if(require.extensions){require.extensions[".ejs"]=function(module,filename){source=require("fs").readFileSync(filename,"utf-8");module.rw(compile(source,{}),filename)}}else if(require.registerExtension){require.registerExtension(".ejs",function(src){return compile(src,{})})}});require.register("filters.js",function(module,exports,require){exports.first=function(obj){return obj[0]};exports.last=function(obj){return obj[obj.length-1]};exports.capitalize=function(str){str=String(str);return str[0].toUpperCase()+str.substr(1,str.length)};exports.downcase=function(str){return String(str).toLowerCase()};exports.upcase=function(str){return String(str).toUpperCase()};exports.sort=function(obj){return Object.create(obj).sort()};exports.sort_by=function(obj,prop){return Object.create(obj).sort(function(a,b){a=a[prop],b=b[prop];if(a>b)return 1;if(a<b)return-1;return 0})};exports.size=exports.length=function(obj){return obj.length};exports.plus=function(a,b){return Number(a)+Number(b)};exports.minus=function(a,b){return Number(a)-Number(b)};exports.times=function(a,b){return Number(a)*Number(b)};exports.divided_by=function(a,b){return Number(a)/Number(b)};exports.join=function(obj,str){return obj.join(str||", ")};exports.truncate=function(str,len){str=String(str);return str.substr(0,len)};exports.truncate_words=function(str,n){var str=String(str),words=str.split(/ +/);return words.slice(0,n).join(" ")};exports.replace=function(str,pattern,substitution){return String(str).replace(pattern,substitution||"")};exports.prepend=function(obj,val){return Array.isArray(obj)?[val].concat(obj):val+obj};exports.append=function(obj,val){return Array.isArray(obj)?obj.concat(val):obj+val};exports.map=function(arr,prop){return arr.map(function(obj){return obj[prop]})};exports.reverse=function(obj){return Array.isArray(obj)?obj.reverse():String(obj).split("").reverse().join("")};exports.get=function(obj,prop){return obj[prop]};exports.json=function(obj){return JSON.stringify(obj)}});require.register("utils.js",function(module,exports,require){exports.escape=function(html){return String(html).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}});
(function(){var G=NEJ.P,bE=NEJ.F,bL=G("nej.g"),S=G("nej.v"),K=G("nej.u"),cZ=G("nej.ut"),B=G("nej.ut.j"),bZ,mI=6e4;if(!!B.gf)return;B.gf=NEJ.C();bZ=B.gf.bR(cZ.cQ);bZ.cO=function(){this.dp();this.gd={onerror:this.pd.bb(this),onloaded:this.mG.bb(this)};if(!this.constructor.bX)this.constructor.bX={loaded:{}}};bZ.rU=function(A){this.cT(A);this.jZ=A.version;this.ka=A.timeout;this.gd.version=this.jZ;this.gd.timeout=this.ka};bZ.mD=function(Z){delete this.constructor.bX[Z]};bZ.dY=function(Z){return this.constructor.bX[Z]};bZ.mF=function(Z,ba){this.constructor.bX[Z]=ba};bZ.gi=bE;bZ.mz=function(bu){S.da(bu)};bZ.mw=function(bu){bu.src=this.ct;document.head.appendChild(bu)};bZ.mK=function(){var N=this.dY(this.ct);if(!N)return;window.clearTimeout(N.timer);this.mz(N.request);delete N.bind;delete N.timer;delete N.request;this.mD(this.ct);this.dY("loaded")[this.ct]=!0};bZ.hx=function(U){var N=this.dY(this.ct);if(!N)return;var M=N.bind;this.mK();if(!!M&&M.length>0){var jO;while(M.length){jO=M.shift();try{jO.br(U,arguments[1])}catch(ex){}jO.cn()}}};bZ.jN=function(dA){this.hx("onerror",dA)};bZ.mh=function(){this.hx("onloaded")};bZ.mO=function(ga){this.constructor.cb(this.gd).hq(ga)};bZ.mb=function(dA){var N=this.dY(this.jG);if(!N)return;if(!!dA)N.error++;N.loaded++;if(N.loaded<N.total)return;this.mD(this.jG);this.br(N.error>0?"onerror":"onloaded")};bZ.pd=function(dA){this.mb(!0)};bZ.mG=function(){this.mb()};bZ.hq=function(ga){ga=K.mk(ga);if(!ga){this.br("onerror",{code:bL.jS,message:"请指定要载入的资源地址！"});return this}this.ct=ga;if(!!this.jZ)this.ct+=(this.ct.indexOf("?")<0?"?":"&")+this.jZ;if(this.dY("loaded")[this.ct]){try{this.br("onloaded")}catch(ex){}this.cn();return this}var N=this.dY(this.ct),bu;if(!!N){N.bind.unshift(this);N.timer=window.clearTimeout(N.timer)}else{bu=this.gi();N={request:bu,bind:[this]};this.mF(this.ct,N);S.bp(bu,"load",this.mh.bb(this));S.bp(bu,"error",this.jN.bb(this,{code:bL.hJ,message:"无法加载指定资源文件["+this.ct+"]！"}))}if(this.ka!=0)N.timer=window.setTimeout(this.jN.bb(this,{code:bL.kU,message:"指定资源文件["+this.ct+"]载入超时！"}),this.ka||mI);if(!!bu)this.mw(bu);this.br("onloading");return this};bZ.lN=function(M){if(!M||!M.length){this.br("onerror",{code:bL.jS,message:"请指定要载入的资源队列！"});return this}this.jG=K.dV();var N={error:0,loaded:0,total:M.length};this.mF(this.jG,N);for(var i=0,l=M.length;i<l;i++){if(!M[i]){N.total--;continue}this.mO(M[i])}this.br("onloading");return this}})();
(function(){var G=NEJ.P,bk=NEJ.O,z=G("nej.e"),B=G("nej.ut.j"),hj;if(!!B.jp)return;B.jp=NEJ.C();hj=B.jp.bR(B.gf);hj.gi=function(){var bH=z.du("iframe");bH.style.display="none";return bH};hj.jN=function(dA){var bH=(this.dY(this.ct)||bk).request;this.hx("onerror",dA);z.fh(bH)};hj.mh=function(){var ew=null,bH=(this.dY(this.ct)||bk).request;try{ew=bH.contentWindow.document.body}catch(ex){}this.hx("onloaded",ew);z.fh(bH)}})();
(function(){var G=NEJ.P,z=G("nej.e"),B=G("nej.ut.j"),jm;if(!!B.he)return;B.he=NEJ.C();jm=B.he.bR(B.gf);jm.gi=function(){return z.du("link")};jm.mw=function(bu){bu.href=this.ct;document.head.appendChild(bu)}})();
(function(){var G=NEJ.P,z=G("nej.e"),B=G("nej.ut.j"),hd;if(!!B.hc)return;B.hc=NEJ.C();hd=B.hc.bR(B.gf);hd.rU=function(A){this.cT(A);this.ls=A.async;this.ji=A.charset;this.gd.async=!1;this.gd.charset=this.ji};hd.gi=function(){var bu=z.du("script");if(this.ls!=null)bu.async=!!this.ls;if(this.ji!=null)bu.charset=this.ji;return bu};hd.mz=function(bu){z.fh(bu)}})();
(function(){var G=NEJ.P,bM=G("nej.j"),B=G("nej.ut.j");bM.rr=function(ga,A){B.hc.cb(A).hq(ga);return this};bM.nc=function(M,A){B.hc.cb(A).lN(M);return this};bM.rq=function(ga,A){B.he.cb(A).hq(ga);return this};bM.ne=function(M,A){B.he.cb(A).lN(M);return this};bM.nf=function(ga,A){B.jp.cb(A).hq(ga);return this}})();
(function(){var G=NEJ.P,bk=NEJ.O,z=G("nej.e"),S=G("nej.v"),K=G("nej.u"),bM=G("nej.j"),cZ=G("nej.ut"),N={},lq=+(new Date)+"-";z.nh=function(){var dW=0;var fT=function(){if(dW>0)return;dW=0;S.br(document,"templateready");S.da(document,"templateready")};var gY=function(bO){var bT=z.cF(bO,"src");if(!bT)return;var ck=bO.ownerDocument.location.href;bT=bT.split(",");K.bV(bT,function(bf,bl,M){M[bl]=K.mk(bf,ck)});return bT};var nm=function(bO){if(!bO)return;var bT=gY(bO);if(!!bT)bM.ne(bT,{version:z.cF(bO,"version")});z.ml(bO.value)};var nn=function(bf){dW--;z.hO(bf);fT()};var no=function(bO){if(!bO)return;var bT=gY(bO),ek=bO.value;if(!!bT){dW++;var A={version:z.cF(bO,"version"),onloaded:nn.bb(null,ek)};window.setTimeout(bM.nc.bb(bM,bT,A),0);return}z.hO(ek)};var np=function(ew){dW--;z.nh(ew);fT()};var nq=function(bO){if(!bO)return;var bT=gY(bO)[0];if(!!bT){dW++;var A={version:z.cF(bO,"version"),onloaded:np};window.setTimeout(bM.nf.bb(bM,bT,A),0)}};var nr=function(W,co){dW--;z.gQ(W,co||"");fT()};var nt=function(bO){if(!bO||!bO.id)return;var W=bO.id,bT=gY(bO)[0];if(!!bT){dW++;var ga=bT+(bT.indexOf("?")<0?"?":"&")+(z.cF(bO,"version")||""),A={type:"text",method:"GET",onload:nr.bb(null,W)};window.setTimeout(bM.ey.bb(bM,ga,A),0)}};var nu=function(bm){var T=bm.name.toLowerCase();switch(T){case"jst":z.my(bm,!0);return;case"txt":z.gQ(bm.id,bm.value||"");return;case"ntp":z.nv(bm.value||"",bm.id);return;case"js":no(bm);return;case"css":nm(bm);return;case"html":nq(bm);return;case"res":nt(bm);return}};cZ.gA.cb({element:document,event:"templateready",oneventadd:function(){fT()}});return function(q){q=z.Q(q);if(!!q){var M=q.tagName=="TEXTAREA"?[q]:q.getElementsByTagName("textarea");K.bV(M,nu);z.fh(q,!0)}fT();return this}}();z.gQ=function(Z,bf){N[Z]=bf||"";return this};z.nw=function(Z){return N[Z]||""};z.nv=function(q,Z){Z=Z||K.dV();q=z.Q(q)||q;z.gQ(lq+Z,q);z.gI(q);return Z};z.nx=function(Z){if(!Z)return null;Z=lq+Z;var bf=z.nw(Z);if(!bf)return null;if(K.et(bf)){bf=z.ph(bf);z.gQ(Z,bf)}return bf.cloneNode(!0)};z.rn=function(){var eL=function(bf,Z){return Z=="offset"||Z=="limit"};return function(M,cS,A){var bB=[];if(!M||!M.length||!cS)return bB;A=A||bk;var kQ=M.length,eY=parseInt(A.offset)||0,dc=Math.min(kQ,eY+(parseInt(A.limit)||kQ)),gK={total:M.length,range:[eY,dc]};NEJ.X(gK,A,eL);for(var i=eY,jO;i<dc;i++){gK.index=i;gK.data=M[i];jO=cS.cb(gK);var W=jO.re();N[W]=jO;jO.cn=jO.cn.bz(function(W,s){delete N[W];delete jO.cn}.bb(null,W));bB.push(jO)}return bB}}();z.qW=function(W){return N[W]};z.rL=function(gj,A){A=A||bk;z.nh(A.tid||"template-box");S.bp(document,"templateready",function(){gj.cb().br("onshow",A)})}})();
(function(){var G=NEJ.P,bk=NEJ.O,bE=NEJ.F,z=G("nej.e"),K=G("nej.u"),cZ=G("nej.ut"),B=G("nej.ui"),cB;if(!!B.iF)return;B.iF=NEJ.C();cB=B.iF.bR(cZ.cQ);cB.cO=function(){this.dp();z.ln();this.kI();this.mt()};cB.rU=function(A){this.cT(A);this.nH(A.clazz);this.iD(A.parent)};cB.db=function(){this.dC();this.kG();delete this.cr;z.gI(this.bQ);z.cX(this.bQ,this.im);delete this.im};cB.kI=bE;cB.mt=function(){if(!this.nN)this.nO();this.bQ=z.nx(this.nN);if(!this.bQ)this.bQ=z.du("div",this.eR);z.cR(this.bQ,this.eR)};cB.nO=bE;cB.nH=function(bh){this.im=bh||"";z.cR(this.bQ,this.im)};cB.nQ=function(){if(!this.eR)return;z.cR(this.cr,this.eR+"-parent")};cB.kG=function(){if(!this.eR)return;z.cX(this.cr,this.eR+"-parent")};cB.qt=function(){return this.bQ};cB.iD=function(bw){if(!this.bQ)return this;this.kG();if(K.dd(bw)){this.cr=bw(this.bQ)}else{this.cr=z.Q(bw);if(!!this.cr)this.cr.appendChild(this.bQ)}this.nQ();return this};cB.qU=function(){if(!this.cr||!this.bQ||this.bQ.parentNode==this.cr)return this;this.cr.appendChild(this.bQ);return this};cB.qS=function(){z.gI(this.bQ);return this}})();
(function(){var G=NEJ.P,bE=NEJ.F,S=G("nej.v"),K=G("nej.u"),cZ=G("nej.ut"),B=G("nej.ut.g"),cz;if(!!B.gs)return;B.gs=NEJ.C();cz=B.gs.bR(cZ.cQ);cz.cO=function(){this.dp();this.kc=1;S.bp(document,"touchcancel",this.nX.bb(this));S.bp(document,"touchstart",this.gr.bb(this));S.bp(document,"touchmove",this.nZ.bb(this));S.bp(document,"touchend",this.oa.bb(this))};cz.rU=function(A){this.cT(A);this.gp=[]};cz.db=function(){this.dC();delete this.gp};cz.go=function(){var fw=function(bc){if(!bc)return;var ma=bc.identifier,lW=bc.pointerId;return ma!=null?ma:lW!=null?lW:null};var hM=function(M){var Y={};K.bV(M,function(bc,bl){Y[fw(bc)]=bl});return Y};var ok=function(fl,hC){var bi=!1,Y=hM(fl);K.bV(hC,function(bc){var bl=Y[fw(bc)];if(bl!=null){bi=!0;fl[bl]=bc}});return bi};var on=function(fl,hC){var bi=[],Y=hM(hC);K.dQ(fl,function(bc,jY){var W=fw(bc),bl=Y[W];if(bl!=null){bi.push(hC[bl]);fl.splice(jY,1)}});return bi.length>0?bi:null};var op=function(M,bo){return on(M,bo)};var or=function(M,bo){var bi=!1,Y=hM(bo);K.bV(M,function(bc,jY){var bl=Y[fw(bc)];if(bl!=null){bi=!0;M[jY]=bo[bl];return bi}});return bi?M:null};var os=function(M,bo,ep){if(ok(M,bo)){return M}else if(M.length<ep){for(var i=M.length,k=0,bc;i<ep;k++,i++){bc=bo[k];if(!bc)break;M.push(bc)}return M}return null};return function(s,ev){var bo=s.changedTouches;if(!bo){if(fw(s)==null)s.identifier=1;bo=[s]}switch(ev){case 1:return op(this.gp,bo);case 2:bo=or(this.gp,bo);break;default:bo=os(this.gp,bo,this.kc);break}return!!bo&&bo.length>=this.kc?bo:null}}();cz.gr=function(s){var bo=this.go(s);if(!!bo)this.jM(bo,s)};cz.jM=bE;cz.nZ=function(s){var bo=this.go(s,2);if(!!bo)this.jK(bo,s)};cz.jK=bE;cz.oa=function(s){var bo=this.go(s,1);if(!!bo)this.jH(bo,s)};cz.jH=bE;cz.nX=function(s){var bo=this.go(s,1);if(!!bo)this.gJ(bo,s)};cz.gJ=bE;cz.dk=function(T,bc,A){S.br(S.cW(bc),T,A)}})();
(function(){var G=NEJ.P,S=G("nej.v"),B=G("nej.ut.g"),eg;if(!!B.jv)return;B.jv=NEJ.C();eg=B.jv.bR(B.gs),eg.cO=function(){this.dp();this.lf=2;this.oB=650;this.oC=1e3};eg.oD=function(bc){this.bN=window.clearTimeout(this.bN);this.dk("taphold",bc)};eg.jM=function(bo,s){this.fI=!0;var bc=bo[0];this.dk("tapdown",bc);this.fA=S.eb(bc);this.iI=S.dI(bc);this.bN=window.setTimeout(this.oD.bb(this,bc),this.oC)};eg.jK=function(bo,s){if(!this.fI)return;var bc=bo[0];var fc=Math.abs(S.eb(bc)-this.fA),fb=Math.abs(S.dI(bc)-this.fA);if(fc>=this.lf||fb>=this.lf)this.gJ(bc,s)};eg.jH=function(bo,s){if(!this.fI)return;var bc=bo[0];this.fI=!1;this.bN=window.clearTimeout(this.bN);this.dk("tapup",bc);this.dk("tap",bc);var bj=+(new Date);if(this.iC==null){this.iC=bj;return}if(bj-this.iC<=this.oB)this.dk("dbltap",bc);delete this.iC};eg.gJ=function(bo,s){if(!this.fI)return;var bc=bo[0];this.fI=!1;this.bN=window.clearTimeout(this.bN);this.dk("tapcancel",bc)};B.jv.cb()})();
(function(){var G=NEJ.P,S=G("nej.v"),B=G("nej.ut.g"),dU;if(!!B.iz)return;B.iz=NEJ.C();dU=B.iz.bR(B.gs),dU.cO=function(){this.dp();this.kk=2};dU.oN=function(fc,fb){var ki=0,kg=0;if(Math.abs(fc)>=this.kk)ki=1;if(Math.abs(fb)>=this.kk)kg=2;return ki+kg};dU.jM=function(bc,s){bc=bc[0];this.fA=S.eb(bc);this.iI=S.dI(bc);this.oQ=S.eb(bc);this.oR=S.dI(bc)};dU.jK=function(bc,s){bc=bc[0];var bk=this.iy(bc);if(!this.gF&&bk.direction!=0){this.dk("dragbegin",bc,bk);this.gF=!0;return}if(!this.gF)return;this.dk("dragging",bc,bk)};dU.jH=function(bc,s){if(!this.gF)return;bc=bc[0];var bk=this.iy(bc);this.dk("dragcomplete",bc,bk);this.gF=!1};dU.gJ=function(bc,s){this.jH.apply(this,arguments)};dU.iy=function(bc){if(!bc)return;var bk={};var fc=S.eb(bc)-this.fA,fb=S.dI(bc)-this.iI,oU=S.eb(bc)-this.oQ,oV=S.dI(bc)-this.oR;this.fA=S.eb(bc);this.iI=S.dI(bc);bk.detalX=fc;bk.detalY=fb;bk.moveX=oU;bk.moveY=oV;bk.direction=this.oN(fc,fb);return bk};B.iz.cb()})();
(function(){var mC=NEJ.P("nej.p"),B=window;if(!!B.requestAnimationFrame&&!!B.cancelRequestAnimationFrame)return;var cG=mC.hk.prefix.pro;if(!!B[cG+"RequestAnimationFrame"]&&!!B[cG+"CancelRequestAnimationFrame"]){B.requestAnimationFrame=B[cG+"RequestAnimationFrame"];B.cancelRequestAnimationFrame=B[cG+"CancelRequestAnimationFrame"];return}var ce=mC.nd,oX=ce.desktop?80:ce.ios?50:30;B.requestAnimationFrame=function(cd){return window.setTimeout(function(){try{cd(+(new Date))}catch(ex){}},1e3/oX)};B.cancelRequestAnimationFrame=function(W){window.clearTimeout(W);return this}})();
(function(){var G=NEJ.P,bk=NEJ.O,bE=NEJ.F,B=G("nej.ut"),el;if(!!B.fR)return;B.fR=NEJ.C();el=B.fR.bR(B.cQ);el.rU=function(A){this.cT(A);this.hg=A.to||bk;this.cw=A.from||{}};el.db=function(){this.dC();this.cV();delete this.hg;delete this.cw};el.lS=function(bj){if(!this.cw)return;if((""+bj).indexOf(".")>=0)bj=+(new Date);if(this.gZ(bj)){this.cV();return}this.bN=requestAnimationFrame(this.lS.bb(this))};el.gZ=bE;el.hQ=function(){this.cw.time=+(new Date);this.bN=requestAnimationFrame(this.lS.bb(this));return this};el.cV=function(){this.bN=cancelRequestAnimationFrame(this.bN);this.br("onstop");return this}})();
(function(){var bk=NEJ.O,B=NEJ.P("nej.ut"),gD,lB;if(!!B.gv)return;B.gv=NEJ.C();gD=B.gv.bR(B.fR);lB=B.gv.fk;gD.rU=function(A){this.cT(A);this.hD=A.acceleration||30;this.pj=A.springtension||.3};gD.gZ=function(bj){var lk=bj-this.cw.time,fz=lk/this.hD,pm=fz*Math.pow(Math.E,-this.pj*fz),bD=this.cw.velocity*pm,bs=this.cw.offset+bD,ea=!1;if(lk>1&&Math.abs(bD)<1){ea=!0;bs=this.cw.offset}this.br("onupdate",{offset:bs});return ea};gD.cV=function(){this.br("onupdate",{offset:this.cw.offset});lB.cV.apply(this,arguments);return this}})();
(function(){var G=NEJ.P,bk=NEJ.O,K=G("nej.u"),B=G("nej.ut"),dM,kY;if(!!B.gn)return;B.gn=NEJ.C();dM=B.gn.bR(B.fR);kY=B.gn.fk;dM.rU=function(A){this.cT(A);this.jz=A.duration||200;this.ps=1/(200*this.jz);this.rS(A.timing);this.pu()};dM.db=function(){this.dC();delete this.eH;delete this.jx};dM.rS=function(){var dq=/^cubic\-bezier\((.*?)\)$/i,dB=/\s*,\s*/i,kR={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var py=function(bf,bl,M){M[bl]=parseFloat(bf)};return function(gh){gh=(gh||"").toLowerCase();this.eH=kR[gh];if(dq.test(gh)){this.eH=RegExp.$1.split(dB);K.bV(this.eH,py)}if(!!this.eH)return;this.eH=kR.ease}}();dM.pu=function(){var eG=this.eH,jo=3*eG[0],kH=3*(eG[2]-eG[0])-jo,pD=1-jo-kH,kb=3*eG[1],ku=3*(eG[3]-eG[1])-kb,pG=1-kb-ku;this.jx={ax:pD,ay:pG,bx:kH,by:ku,cx:jo,cy:kb}};dM.pH=function(){var ks=function(bj,cs){return((cs.ax*bj+cs.bx)*bj+cs.cx)*bj};var pK=function(bj,cs){return((cs.ay*bj+cs.by)*bj+cs.cy)*bj};var pL=function(bj,cs){return(3*cs.ax*bj+2*cs.bx)*bj+cs.cx};var pM=function(bj,kl,cs){var t0,t1,t2,x2,d2,i;for(t2=bj,i=0;i<8;i++){x2=ks(t2,cs)-bj;if(Math.abs(x2)<kl)return t2;d2=pL(t2,cs);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=bj;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=ks(t2,cs);if(Math.abs(x2-bj)<kl)return t2;if(bj>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(bD){return pK(pM(bD/this.jz,this.ps,this.jx),this.jx)}}();dM.gZ=function(bj){var bD=bj-this.cw.time,mx=this.pH(bD),bs=K.gu(this.cw.offset*(1-mx)+this.hg.offset*mx,2),ea=!1;if(bD>=this.jz){bs=this.hg.offset;ea=!0}this.br("onupdate",{offset:bs});return ea};dM.cV=function(){this.br("onupdate",{offset:this.hg.offset});kY.cV.apply(this,arguments);return this}})();
(function(){var B=NEJ.P("nej.ut"),ms;if(!!B.iQ)return;B.iQ=NEJ.C();ms=B.iQ.bR(B.gn);ms.rU=function(A){A=NEJ.X({},A);A.timing="easeout";this.cT(A)}})();
(function(){var bk=NEJ.O,B=NEJ.P("nej.ut"),iH;if(!!B.iB)return;B.iB=NEJ.C();iH=B.iB.bR(B.fR);iH.rU=function(A){this.cT(A);this.pT=A.friction||.5;this.lI=Math.log(1-this.pT/10);this.hD=A.acceleration||30};iH.gZ=function(bj){var fz=Math.exp((bj-this.cw.time)/this.hD*this.lI),bs=this.cw.offset-this.cw.velocity*(1-fz)/this.lI,ef=this.cw.velocity*fz,ea=!1;if(Math.abs(ef)<=1){ea=!0}this.br("onupdate",{offset:bs,velocity:ef});return ea}})();
(function(){var o=NEJ.O,f=NEJ.F,e=NEJ.P("nej.e"),v=NEJ.P("nej.v"),u=NEJ.P("nej.u"),t=NEJ.P("nej.ut"),p=NEJ.P("nej.ui"),bt,lD;p.hY=NEJ.C();bt=p.hY.bR(p.iF);lD=p.hY.fk;bt.cO=function(){this.dp();this.eh={};this.dn=this.kE();this.gL={from:{},to:{},onstop:this.qd.bb(this),onupdate:this.qe.bb(this)};this.jW={from:{},onstop:this.kw.bb(this),onupdate:this.qh.bb(this)};this.jR={from:{},onstop:this.qj.bb(this),onupdate:this.qk.bb(this)};this.fL={ontapstart:this.gr.bb(this),ondragstart:this.qm.bb(this),ondrag:this.qn.bb(this),ondragend:this.qo.bb(this),ontransitionend:this.lr.bb(this)}};bt.kE=f;bt.rU=function(A){this.cT(A);this.kh([[this.cr.parentNode,"touchstart",v.eE],[this.cr.parentNode,"touchmove",v.eE]]);this.cu=[0,0];this.eU={minvelocity:1,bcfactor:.5,minbar:1/5,reset:300,acceleration:30};NEJ.EX(this.eU,A.config);this.sl=e.Q(A.container)||e.hB(this.cr)[0];e.cR(this.sl,this.qa+"-view")};bt.db=function(){this.dC();e.cX(this.sl,this.qa+"-view");delete this.cc;e.fK(this.sl,"transform","")};bt.ti=function(){var bs=function(q,lt){if(!q)return 0;var bf=q[lt];while(!!q&&!bf){q=q.parentNode;if(!!q)bf=q[lt]}return bf};return function(){var hu=this.sl[this.dn.sb],ec=bs(this.cr,this.dn.ob);this.kX=hu>ec;this.jr=ec;this.fE=Math.max(ec*ec/hu,ec*this.eU.minbar);this.pq=(ec-this.fE)/(hu-ec);this.bQ.style[this.dn.g]=this.fE+"px";this.cu=[Math.min(0,ec-hu),0];this.cc=this.iJ()}}();bt.lR=function(){if(!this.bN)return;this.bN=window.clearTimeout(this.bN)};bt.pb=function(){if(!this.ii||!this.kX)return;this.lR();this.bQ.style.opacity=1};bt.gB=function(){if(!this.ii||!this.kX)return;this.lR();this.bN=window.setTimeout(function(){this.bQ.style.opacity=0}.bb(this),300)};bt.iJ=function(){var oT=e.pc(e.gR(this.sl,"transform"));return parseInt(oT[this.dn.dx])||0};bt.hV=function(bs){var bF=bs==null?this.cc:bs;if(this.cu[0]<=bF&&this.cu[1]>=bF)return 0;var bD=bF-this.cu[0];if(bD<0)return bD;bD=bF-this.cu[1];if(bD>0)return bD};bt.er=function(hN){hN=!!hN||this.cc===undefined;if(!!hN)this.ti()};bt.kL=function(bs,hE){var cL=this.hV();if(cL!=0&&!this.dG){var dc=bs!=null?bs:this.cu[cL<0?0:1];this.gL.duration=hE||200;this.gL.from.offset=this.cc;this.gL.to.offset=dc;this.dG=t.iQ.cb(this.gL);this.dG.hQ();return!0}};bt.qd=function(){if(!!this.dG)this.dG=this.dG.cn();this.mr=!1};bt.qe=function(s){this.fy(s.offset)};bt.kw=function(nT){if(!!this.eS)this.eS=this.eS.cn();if(!nT){this.gB();this.br("onscrollend",this.iJ())}};bt.qh=function(s){var bs=s.offset,ef=s.velocity,cL=this.hV(bs);if(cL==0){this.fy(bs);return}this.kw(!0);this.jR.from.velocity=ef;this.jR.from.offset=this.cu[cL<0?0:1];this.eV=t.gv.cb(this.jR);this.eV.hQ()};bt.qj=function(){if(!!this.eV)this.eV=this.eV.cn();this.gB()};bt.qk=function(s){this.fy(s.offset)};bt.nR=function(bD){this.fy(this.cc+bD)};bt.fy=function(bs){var bD=bs-this.cc;if(!bD)return;this.cc=bs;var cL=this.hV(),bl=cL<0?0:1,fG=cL!=0;if(fG)this.cc=Math.ceil(this.cc-bD+this.eU.bcfactor*bD);var Y={};Y[this.dn.of]=u.gu(this.cc,2)+"px";e.mf(this.sl,"translate",Y);if(this.ii){var bs=Math.floor(Math.max(0,-this.pq*this.cc));if(fG){var ly=Math.max(8,this.fE-Math.abs(cL)*2);this.bQ.style[this.dn.g]=ly+"px";if(cL<0)bs=this.jr-ly}else{this.bQ.style[this.dn.g]=this.fE+"px";bs=Math.min(bs,this.jr-this.fE)}var Y={};Y[this.dn.of]=u.gu(bs,2)+"px";e.mf(this.bQ,"translate",Y)}if(!fG){var U=this.hI?"onbouncend":"onscroll";this.hI=!1;this.br(U,this.cc);return}if(!!this.mr)return;var s={movement:cL,direction:bD>0?-1:1};if(!!this.hI){this.br("onbounce",s);return}this.hI=!0;this.br("onbouncestart",s)};bt.gr=function(){if(!!this.dG)this.dG.cV();if(!!this.eV)this.eV.cV();if(!!this.eS)this.eS.cV();if(!!this.eX){this.eX=window.clearInterval(this.eX);this.lr()}};bt.qm=function(){this.ti();this.jX=!0;this.pb();this.eh.offset=this.cc;this.eh.time=(new Date).getTime()};bt.qn=function(bc){if(!this.jX)return;var bD=bc.detalY;this.nR(bD);var bj=(new Date).getTime();if(bj-this.eh.time>this.eU.reset){this.eh.time=bj;this.eh.offset=this.cc}};bt.qo=function(bc){if(!this.jX)return;this.jX=!1;var s={};this.br("onrelease",s);var fG=this.kL(s.offset);if(!!fG){this.gB();return}var hE=(new Date).getTime()-this.eh.time,cL=this.cc-this.eh.offset,ef=cL/hE*this.eU.acceleration;if(Math.abs(ef)<this.eU.minvelocity){this.gB();this.br("onscrollend",this.iJ());return}this.jW.from.offset=this.cc;this.jW.from.velocity=ef;this.eS=t.iB.cb(this.jW);this.eS.hQ()};bt.lr=function(){this.sl.style.webkitTransitionDuration="0ms"};bt.iD=function(bw){lD.iD.apply(this,arguments);this.ii=e.gR(this.bQ,"display")!="none";if(!this.cr)return;this.kh([[document,"dragging",this.fL.ondrag],[document,"dragcomplete",this.fL.ondragend],[this.cr,"tapdown",this.fL.ontapstart],[this.cr,"dragbegin",this.fL.ondragstart]])};bt.rb=function(){if(!!this.dG)this.dG.cV();this.mr=!0;this.kL(null,200)};bt.rc=function(q){q=e.Q(q);if(!q)return!1;var kM=e.hP(q,this.sl)[this.dn.of],nC=kM+q.offsetHeight;this.er();var eY=Math.abs(Math.min(0,this.cc)),dc=eY+this.jr;return!(nC<eY||kM>dc)};bt.rf=function(){this.er();return Math.abs(Math.max(this.cu[0],Math.min(this.cu[1],this.cc)))};bt.rg=function(bD,dh){this.er(dh);this.eI(Math.abs(this.cc)+(parseInt(bD)||0))};bt.eI=function(bs,dh){this.gr();this.er(dh);bs=Math.max(this.cu[0],Math.min(this.cu[1],0-bs));e.fK(this.sl,"transitionDuration","150ms");this.fy(bs);if(!!this.eX)this.eX=window.clearTimeout(this.eX);this.eX=window.setTimeout(this.fL.ontransitionend,150)};bt.ri=function(dh){this.er(dh);this.eI(Math.abs(this.cu[1]))};bt.rj=function(dh){this.er(dh);this.eI((this.cu[1]-this.cu[0])/2)};bt.rk=function(dh){this.er(dh);this.eI(Math.abs(this.cu[0]))};bt.rl=function(q,dh){var bs=e.hP(q,this.sl);if(!bs)return;this.eI(bs[this.dn.of],dh)}})();
(function(){var e=NEJ.P("nej.e"),p=NEJ.P("nej.ui"),jd,ny;if(!!p.gS)return;var nj=e.lm(".#<uispace>{position:absolute;z-index:10;$<transform>-origin:0 0;$<transition>-property:opacity;$<transition>-duration:250ms;background-color:rgba(0,0,0,0.6);$<border-radius>:4px;border:1px solid rgba(255,255,255,0.2);opacity:0;overflow:hidden;}.#<uispace>-view{position:relative;z-index:5;$<transform>:$<translate>;}.#<uispace>{top:0;right:1px;width:6px;}");p.gS=NEJ.C();jd=p.gS.bR(p.hY);ny=p.gS.fk;jd.kI=function(){this.eR=nj};jd.kE=function(){return{f:"v",a:"top",g:"height",t:"pageY",of:"y",ob:"offsetHeight",sb:"scrollHeight",dx:"m42"}}})();
(function(){var p=NEJ.P("nej.p"),e=NEJ.P("nej.e"),j=NEJ.P("nej.j"),v=NEJ.P("nej.v"),cg=NEJ.P("nec.g"),ui=NEJ.P("nej.ui"),parseLibrary=window.parseLibrary,categoryList=window.categoryList,categoryName=window.categoryName,combo,template,data;function init(){initData();initEventListener()}function initData(){var hn=-1,ic="",ju="";ic=categoryName=="undefined"?location.hash.split("#")[1]:categoryName;if(!ic){hn=categoryList[0].id;ju=categoryList[0].title}else{for(var i=0;i<categoryList.length;i++){if(ic.toLowerCase()==categoryList[i].name.toLowerCase()){hn=categoryList[i].id;ju=categoryList[i].title}}}combo=hn!=-1?new cg.ff(render):new cg.ff(render2);combo.hh();j.ey("/view/wrap/_libraryList.ejs",{onload:onTemplateLoad});onlibCLoad(hn,ju)}function onTemplateLoad(mV){template=mV;combo.hi()}function initEventListener(){for(var i=0;i<categoryList.length;i++){v.bp(categoryList[i].id,"click",onClickGet.bb(e.Q(categoryList[i].id)))}}function onClickGet(s){onlibCLoad(this.id,e.hB(this)[0].innerHTML)}function onlibCLoad(W,hG){if(W==-1){e.Q("cerr1").style.display="";e.Q("cerr2").style.display="none";e.Q("cnoerr").style.display="none"}else{var M=e.kJ("menulist","crt");if(M!=null){e.cX(M[0],"crt")}e.cR(W,"crt");e.Q("cerr1").style.display="none";e.Q("cerr2").style.display="none";e.Q("cnoerr").style.display="";document.title=hG+" - 代码库 - NEC : 更好的CSS样式解决方案";e.Q("_libTitle").innerHTML=hG;e.Q("_libList").innerHTML='<div class="u-load">加载中，请稍后...</div>';combo.hh();j.ey("/xhr/library.getDescendantByCategoryId?id="+W,{timeout:1e4,onerror:showError.bb(null,hG),onload:onDataLoad})}}function onDataLoad(ba){data=JSON.parse(ba).data;combo.hi()}function showError(){if(e.Q("_libTitle").innerHTML==arguments[0]){e.Q("cerr1").style.display="none";e.Q("cerr2").style.display="";e.Q("cnoerr").style.display="none"}}function render(){e.Q("cerr1").style.display="none";e.Q("cerr2").style.display="none";e.Q("cnoerr").style.display="";var cD=require("ejs").render(template,{data:data});e.Q("_libList").innerHTML=cD}function render2(){var cD=require("ejs").render(template,{data:data});e.Q("_libList").innerHTML=cD}function resetHtml(){var mJ=e.Q("wrapper");mJ.className="g-wrapper";var li=e.Q("scroller");li.className="m-scroller";li.style.height=document.body.scrollHeight+"px"}init()})()